<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ì˜¤ëŠ˜ì˜ í• ì¼</title>
    <link href="https://fonts.googleapis.com/css2?family=Jua&display=swap" rel="stylesheet">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
            crossorigin="anonymous"></script>
    <style>
        *{
            font-family: 'Jua', sans-serif;
        }
        body{
            background-color: #EFEFEF;
        }
        .wrap2{
            margin: 10px auto;
            width : 400px;
            text-align: center;
        }
        .to-do-box{
            height: 300px;
            color: white;

            background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.6), rgba(0, 0, 0, 0.6)), url("https://wordrow.kr/static/images_amp_story/56.webp");
            background-position: center;
            background-size: cover;
            border-radius: 10px;
            padding-top: 50px;
        }
        input{
            margin-top: 20px;
            margin-bottom: 20px;
        }
        #todo{

        }
    </style>
</head>
<body>
    <div class="wrap2">
        <div class="to-do-box">
            <p><h1>To-do List</h1></p>
            <p><h5>ğŸ‘‡ì˜¤ëŠ˜ í• ì¼ì„ ì¶”ê°€í•´ë³´ì„¸ìš”ğŸ‘‡</h5></p><br>
            <p>í• ì¼ì„ ì ê³  ì¶”ê°€í•˜ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”</p>
        </div>
        <div  class="mb-3">
            <input type="text" class="form-control" id="todo" placeholder=">> í• ì¼ì„ ì¶”ê°€í•˜ì„¸ìš”">
        </div>
        <button id="add-button" type="button" class="btn btn-outline-dark">ì¶”ê°€í•˜ê¸°</button>
        <div id="todo-list">
        </div>
    </div>
</body>
<script>
    document.addEventListener('DOMContentLoaded', () => {

        //ë¬¸ì„œ ê°ì²´ ê°€ì ¸ì˜¤ê¸°
        const input = document.querySelector('#todo')
        const todoList = document.querySelector('#todo-list')
        const addButton = document.querySelector('#add-button')

        //ë³€ìˆ˜ ì„ ì–¸ - ì´í›„ removeTodo()í•¨ìˆ˜ì—ì„œ ë¬¸ì„œ ê°ì²´ë¥¼ ì œê±°í•˜ê¸°ìœ„í•œ ìš©ë„ë¡œ ë§Œë“  ë³€ìˆ˜
        let keyCount = 0

        //í•¨ìˆ˜ ì„ ì–¸
        const addTodo = () => {
            //ì…ë ¥ ì–‘ì‹ì— ë‚´ìš©ì´ ì—†ìœ¼ë©´ ì¶”ê°€í•˜ì§€ ì•ŠëŠ”ë‹¤.
            if (input.value.trim() === '') {
                alert('í•  ì¼ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.')
                return
            }

            //ë¬¸ì„œ ê°ì²´ ì„¤ì •

            const item = document.createElement('div')
            const checkbox = document.createElement('input')
            const text = document.createElement('span')
            const button = document.createElement('button')

            //ë¬¸ì„œ ê°ì²´ë¥¼ ì‹ë³„í•  í‚¤ë¥¼ ìƒì„±

            //ì´í›„ removeTodo()í•¨ìˆ˜ì—ì„œ ë¬¸ì„œ ê°ì²´ë¥¼ ì œê±°í•˜ê¸° ìœ„í•œ ìš©ë„ë¡œ ë§Œë“  ë³€ìˆ˜
            const key = keyCount
            keyCount += 1

            //item ê°ì²´ ì¡°ì‘í•˜ê³  ì¶”ê°€
            item.setAttribute('data-key', key)
            item.appendChild(checkbox)
            item.appendChild(text)
            item.appendChild(button)
            todoList.appendChild(item)

            //checkbox ê°ì²´ì¡°ì‘

            //<input type="checkbox">í˜•íƒœ êµ¬ì„±
            checkbox.type = 'checkbox'
            //ì²´í¬ë°”ìŠ¤ë¥¼ í´ë¦­í•˜ë©´ ì„  ë‚˜íƒ€ë‚¨
            checkbox.addEventListener('change', (event) => {
                item.style.textDecoration
                    = event.target.checked ? 'line-through' : ''
            })

            //text ê°ì²´ë¥¼ ì¡°ì‘í•œë‹¤. ê¸€ì í˜•íƒœ êµ¬ì„±
            text.textContent = input.value

            //button ê°ì²´ ì¡°ì‘
            button.textContent = 'ì œê±°í•˜ê¸°'
            button.addEventListener('click', () => {
                removeTodo(key)
            })

            //ì…ë ¥ ì–‘ì‹ì˜ ë‚´ìš©ì„ ë¹„
            input.value = ''
        }

        const removeTodo = (key) => {
            //ì‹ë³„ í‚¤ë¡œ ë¬¸ì„œ ê°ì²´ ì œê±°
            const item = document.querySelector(`[data-key="${key}"]`)
            //ìœ„ì—ì„œ ì§€ì •í•œ <div data-key="ìˆ«ì"ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ìš”ì†Œë¥¼ ì°¾ê³  ì œê±°
            todoList.removeChild(item)
        }

        // ì´ë²¤íŠ¸ ì—°ê²°

        addButton.addEventListener('click', addTodo)
        input.addEventListener('keyup', (event) => {
            //ì…ë ¥ ì–‘ì‹ì—ì„œ ENTER í‚¤ë¥¼ ëˆ„ë¥´ë©´ ë°”ë¡œ addTodo()í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•¨.
            const ENTER = 13
            if (event.keyCode === ENTER) {
                addTodo()
            }
        })
    })
</script>
</html>